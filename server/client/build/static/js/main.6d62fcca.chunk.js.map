{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","wrap","_context","prev","next","axios","get","sent","type","payload","data","stop","this","_x","apply","arguments","handleToken","token","_ref2","_callee2","_context2","post","_x2","Payments","_this","react_default","createElement","main_default","name","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","auth","href","key","components_Payments","credits","console","log","Link","to","renderContent","Landing","src","Dashboard","SurveyNew","App","BrowserRouter","components_Header","Route","exact","path","component","combineReducers","length","undefined","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDom","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.6d62fcca.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport {FETCH_USER} from './types';\r\n\r\nexport const fetchUser = () => async dispatch => {\r\n    const res = await axios.get('/api/currentuser');\r\n    dispatch({type: FETCH_USER, payload: res.data});\r\n  };\r\n\r\nexport const handleToken = token => async dispatch => {\r\n  const res = await axios.post('/api/stripe', token);\r\n  dispatch({type: FETCH_USER, payload: res.data});\r\n}\r\n","export const FETCH_USER = 'fetch_user';\r\n","import React, { Component } from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nclass Payments extends Component {\r\n  render(){\r\n\r\n    return(\r\n      <StripeCheckout\r\n        name = 'Mail It'\r\n        description = '$5 for 50 email credits'\r\n        amount = {500}\r\n        token = {token => this.props.handleToken(token)}\r\n        stripeKey = {process.env.REACT_APP_STRIPE_KEY}\r\n      >\r\n        <button className=\"btn\">Add Credits</button>\r\n      </StripeCheckout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, actions)(Payments);\r\n","import React, {Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport Payments from './Payments';\r\nimport '../styles/style.css';\r\n\r\nclass Header extends Component{\r\n  renderContent(){\r\n      switch(this.props.auth){\r\n        case null:\r\n          return; //user will not see wrong data if req takes more time to finish\r\n        case false:\r\n          return <li><a href = \"/auth/google\">Log in with Google</a></li>;\r\n        default:\r\n          return [\r\n            <li key='a'><Payments /></li>,\r\n            <li key='c'className=\"creditsLabel\">Credits: {this.props.auth.credits}</li>,\r\n            <li key='b'><a href = \"/api/logout\">Log out</a></li>\r\n          ];\r\n      }\r\n  }\r\n\r\n  render(){\r\n    console.log(this.props);\r\n    return(\r\n        <nav>\r\n          <div className=\"nav-wrapper blue-grey darken-3\">\r\n            <Link\r\n              to={this.props.auth ? '/surveys' : '/'}\r\n              className=\"left brand-logo\"\r\n            >\r\n              Mail It\r\n            </Link>\r\n            <ul className=\"right\">\r\n              {this.renderContent()}\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({auth}){\r\n  return {auth};\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React from 'react';\r\n\r\nconst Landing = () =>{\r\n  return(\r\n    <div>\r\n      <div className=\"row\">\r\n        <div className=\"col l6 col s12\">\r\n          <img className=\"responsive-img\" src=\"https://images.unsplash.com/photo-1524821505188-18975b5a913f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=764&q=80\" />\r\n        </div>\r\n        <div className=\"col l6 col s12\">\r\n          <h1 className=\"center-align\">Make things happen</h1>\r\n          <h5 className=\"center-align flow-text\">Know what your customer thinks about your business. Let them know that you do care about them, share your exciting new offers and much more.</h5>\r\n        </div>\r\n      </div>\r\n   </div>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React, {Component} from 'react';\r\nimport {BrowserRouter, Route} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nimport Header from './Header';\r\nimport Landing from './Landing';\r\n\r\n//temp components to verify routes//\r\nconst Dashboard = () => <h2>Dashboard</h2>\r\nconst SurveyNew = () => <h2>Add a new survey</h2>\r\n\r\nclass App extends Component{\r\n\r\n  componentDidMount(){\r\n    this.props.fetchUser();\r\n    }\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        <BrowserRouter>\r\n          <div>\r\n            <Header />\r\n            <Route exact path=\"/\" component={Landing} />\r\n            <Route exact path=\"/surveys\" component={Dashboard} />\r\n            <Route path=\"/surveys/new\" component={SurveyNew} />\r\n          </div>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default connect(null, actions)(App);\r\n","import {combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer\r\n});\r\n","import { FETCH_USER } from '../actions/types';\r\n\r\nexport default function(state = null, action){\r\n  switch (action.type){\r\n    \r\n    case FETCH_USER:\r\n      return action.payload || false\r\n\r\n    default:\r\n      return null; //just in case if users using very slow internet//\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\nimport 'materialize-css/dist/css/materialize.min.css';\r\n\r\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\r\n\r\nReactDom.render(\r\n    <Provider store={store}><App /></Provider>,\r\n    document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}